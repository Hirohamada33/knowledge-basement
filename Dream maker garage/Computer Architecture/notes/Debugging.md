In microcontroller, the programmer actually has **very limited view** into the internal operation. More sophisticated **debugging tools** are available for microcontrollers, however, it is **common to not have the access**.
Hence, tt is important to develop strategies to be able to systematically debug embedded program when only basic I/O is accessible. 

#### Toggling pins

Toggling a pin is a simple and effective way of getting a **simple status indication** from a program running on a microcontroller. 
Generally **LED** is an easy option for **visual indicator of state**, but more sophisticated instrumentation (e.g. **oscilloscope**) can be used to get more **detailed timing information**.

Use cases:
- Test whether a section of code is executing (e.g. interrupt)
- Test the timing of a section of code (e.g. set a pin at start, clear at end)
- Detect the occurrence of infrequent events (set pin on event, never clear)

#### Serial communication

If **more detailed information** then information provided by a single pin or set of pins is needed, the use of **serial communications** (e.g. UART) is a useful next step. 

Use cases:
- Printing variable values to a serial console to check arithmetic, logic etc.
- Getting user input for interactive debugging, entering test data etc.
- Printing descriptive error messages in the case of unexpected behaviour.


#### Assembly listing

In addition, there are some issues that **can not be identified on a compiler level**, such as optimisation, low level timing issues, pre-emption of critical code sections by ISRs, etc. 
In this case, it may be necessary to **inspect the assembly code** which is generated by the compiler and linker from a C program. 

(This can be done by the object dump utility in gcc toolchain: `avr-objdump -d firmware.elf`)

![[assembly listing.png]]